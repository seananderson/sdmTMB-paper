---
title: "`sdmTMB`: Fast, flexible, and user-friendly spatial and spatiotemporal generalized linear mixed-effects models"
author: "|
  Sean C. Anderson$^1$^[Corresponding author: sean.anderson@dfo-mpo.gc.ca], Other authors\n| $^1$Pacific Biological Station Fisheries and Oceans Canada, \n| Nanaimo, BC, Canada\n|
  $^2$Other addresses\n"
output:
    bookdown::pdf_document2:
      toc: false
      number_sections: false
      fig_caption: true
csl: mee.csl
bibliography: refs.bib
link-citations: yes
header-includes:
  \usepackage[left]{lineno}
  \linenumbers
  \newcommand{\beginsupplement}{
  \setcounter{equation}{0}
  \renewcommand{\theequation}{S.\arabic{equation}}
  \setcounter{table}{0}
  \renewcommand{\thetable}{S\arabic{table}}
  \setcounter{figure}{0}
  \renewcommand{\thefigure}{S\arabic{figure}}}
editor_options:
  markdown:
    wrap: sentence
abstract: |
    | \noindent Point 1: set the context for and purpose of the work; \smallskip 
    | Point 2: indicate the approach and methods; \smallskip 
    | Point 3: outline the main results; \smallskip 
    | Point 4: identify the conclusions and the wider implications. \smallskip 
---

<!-- # The sdmTMB package implements spatiotemporal predictive-process GLMMs (Generalized Linear Mixed Effect Models) using TMB, INLA, and Gaussian Markov random fields. One common application is for spatial or spatiotemporal species distribution models (SDMs). -->

```{r, echo = FALSE, include = FALSE, message = FALSE, warnings = FALSE}
library(here)
library(ggplot2)
library(dplyr)
library(sdmTMB)
```

```{r, include=FALSE}
options(tinytex.verbose = TRUE)
knitr::opts_chunk$set(
  echo = FALSE, message = FALSE, warnings = FALSE,
  collapse = TRUE,
  comment = "#>"
)
```

```{=html}
<!--

Application: Short (no more than 3000-4000 words total) descriptions of new software that are intended to describe and promote the software as well as act as a citeable resource for developers.
Application papers are made free to access for all readers upon publication in order to encourage uptake of the methodologies they describe.
Uploading a package to a site such as [**CRAN**](http://cran.r-project.org/) or [**sourceforge** ](http://sourceforge.net/)in advance is not considered prior publication and will not hinder your submission to MEE.
View some example Applications [**here**](https://besjournals.onlinelibrary.wiley.com/hub/journal/2041210X/features/applicationpapers).

<https://besjournals.onlinelibrary.wiley.com/hub/journal/2041210X/features/applicationpapers>

-   Single column, double line spaced

-   Within the word count (no more than 7000-8000 words for Standard Articles, 3000-4000 words for Applications and Practical Tools)

-   Continuous line and page numbering throughout

-   Clearly defined manuscript structure as standard: Author details, Abstract (must be numbered according to [**Manuscript Specifications**](https://besjournals.onlinelibrary.wiley.com/hub/journal/2041210x/author-guidelines#MS_spec)), Keywords, Introduction, Materials and Methods, Results, Discussion, Figures and Tables with captions

-   Figures and Tables can be embedded within the text where referenced to facilitate reviewing

-   Author Contributions ([[if \>1 author -- see Authorship Policy]{.ul}](https://besjournals.onlinelibrary.wiley.com/hub/editorial-policies#authorship)).

-   Statement of where you *intend* to [**archive your data**](https://besjournals.onlinelibrary.wiley.com/hub/data_archiving_policy)


Title Page should include:

A concise and informative title. Do not include the authorities for taxonomic names.
A list of all authors' names with names and addresses of Institutions.
The name, address and e-mail address of the correspondence author.
A running headline of not more than 45 characters.

Abstract

The Abstract must not exceed 350 words and should list the main results and conclusions, using simple, factual, numbered statements:

Key-words: A list in alphabetical order not exceeding eight words or short phrases. The most important key-words should appear in the title and the abstract as well as the key-word list. More advice on selecting good keywords can be found here.

Introduction

This should state the reason for doing the work, the nature of the hypothesis or hypotheses under consideration, and should outline the essential background.

Materials and Methods

Include sufficient details for the work to be repeated. Where specific equipment and materials are named, the manufacturer’s details (name, city and country) should be given so that readers can trace specifications by contacting the manufacturer. Where commercially available software has been used, details of the supplier should be given in brackets or the reference given in full in the reference list. Do not describe or refer to commonplace statistical tests in this section but allude to them briefly in Results.

Results

State the results and draw attention in the text to important details shown in tables and figures.

Discussion

This should point out the significance of the results in relation to the reasons for doing the work, and place them in the context of other work.

Conclusions (optional)
 
Acknowledgements (optional)

A brief statement acknowledging collaborators and research assistants who do not meet the criteria for authorship described above, or acknowledging funding sources, providing relevant permit numbers (including institutional animal use permits), or giving recognition to nature reserves or other organizations that made the work possible.

Conflict of Interest statement (required for all article types)

-->
```

# Introduction

-   [@anderson2019]
-   [@maureaud2021]
-   [@anderson2020]
-   [@osgood-zimmerman2021]
-   [@breivik2021]
-   [@monnahan2021]
-   [@shelton2014]
-   [@lindgren2011]
-   [@latimer2009]

# Examples of sections:

# Materials and Methods

# Description

# Model

# Application Examples

# Implementation and Availability

# Performance

# Discussion

# Conclusion

Optional

# Acknowledgements

# Conflict of Interest statement

# Author Contributions

<!-- 
All submissions with more than one author must include an Authors’ contributions statement. All persons listed as authors on a paper are expected to meet ALL of the following criteria for authorship:

substantial contributions to conception and design, or acquisition of data, or analysis and interpretation of data, or drafting the article or revising it critically for important intellectual content;
final approval of the version to be published;
agreement to be accountable for the aspects of the work that they conducted and ensuring that questions related to the accuracy or integrity of any part of their work are appropriately investigated and resolved.
Acquisition of funding, provision of facilities, or supervising the research group of authors without additional contribution are not usually sufficient justifications for authorship. The statement should include an explanation of the contribution of each author. We suggest the following format for the Authors’ contributions statement:

AB and CD conceived the ideas and designed methodology; CD and EF collected the data; EF and GH analysed the data; AB and CD led the writing of the manuscript. All authors contributed critically to the drafts and gave final approval for publication. -->


# Data Availability

<!--
To enable readers to locate archived data from papers, we require that authors list the database and the respective accession numbers or DOIs for all data from the manuscript that has been made publicly available. For example, “Data available from the Dryad Digital Repository http://dx.doi.org/10.5061/dryad.41qh7 (Kiere & Drummond 2016).” When a DOI is available for the data, the full data citation should also be given in the reference list (see below). For further information see our data archiving policy.
-->

Content:

-   outline the general need for this type of modelling

-   outline the need for this type of package to make the models accessible and rapid to iterate on

-   emphasize the niche carved out: a fast, flexible, easy-to-use, predictive-process univariate spatial or spatiotemporal GLMM, scales from maximum likelihood to penalized likelihood to full Bayesian inference

-   outline the philosophy and how the functions work together

    -   modular
    -   familiar (similar to glm, lme4, glmmTMB, mgcv, etc.)
    -   separate fitting and predicting
    -   avoid expensive calculations unless needed

-   table comparison to related packages

-   case studies

    -   an SDM with time-varying depth?
    -   an index calculation?
    -   stitching surveys?

-   how it achieves the steps Jim described [@thorson2019] in what a VAST-related package has to be able to do (and how VAST does it vs. how sdmTMB does it)

-   speed comparisons (INLA [inlabru?], VAST, mgcv, glmmTMB without predictive process?)

-   intended audience: ecology, but much broader too

-   self simulation testing --- appendix

-   package comparison fitting --- appendix

\clearpage

# References

::: {#refs}
:::

```{=tex}
\clearpage
\beginsupplement
```

# Supplemental Materials
